"use strict";(self.webpackChunkcodingbbq_github_io=self.webpackChunkcodingbbq_github_io||[]).push([[5747],{8050:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>r});var n=s(4848),o=s(8453);const i={},a="Event Loop In JavaScript",l={id:"JavaScript/event-loop-javascript",title:"Event Loop In JavaScript",description:"JavaScript is single-threaded, meaning it executes code synchronously, one line at a time. To handle asynchronous tasks while maintaining this single-threaded nature, JavaScript uses a runtime model that involves the Call Stack, Message Queue, Microtask Queue, and Event Loop.",source:"@site/docs/JavaScript/event-loop-javascript.md",sourceDirName:"JavaScript",slug:"/JavaScript/event-loop-javascript",permalink:"/docs/JavaScript/event-loop-javascript",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"How does the new keyword work with a function that is not a class in JavaScript?",permalink:"/docs/JavaScript/constructor-functions"},next:{title:"What is Prototypal Inhertiance in JavaScript ?",permalink:"/docs/JavaScript/prototypal-inheritance"}},c={},r=[{value:"Call Stack",id:"call-stack",level:2},{value:"Web APIs",id:"web-apis",level:2},{value:"Message Queue",id:"message-queue",level:2},{value:"Event Loop",id:"event-loop",level:2},{value:"The process works as follows:",id:"the-process-works-as-follows",level:3},{value:"Microtask Queue",id:"microtask-queue",level:2},{value:"Summary",id:"summary",level:2},{value:"Passing Delay of <code>0</code> milliseconds to <code>setTimeout</code> will make it synchronous?",id:"passing-delay-of-0-milliseconds-to-settimeout-will-make-it-synchronous",level:2}];function h(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"event-loop-in-javascript",children:"Event Loop In JavaScript"}),"\n",(0,n.jsxs)(t.p,{children:["JavaScript is single-threaded, meaning it executes code ",(0,n.jsx)(t.strong,{children:"synchronously"}),", one line at a time. To handle asynchronous tasks while maintaining this single-threaded nature, JavaScript uses a runtime model that involves the Call Stack, Message Queue, Microtask Queue, and Event Loop."]}),"\n",(0,n.jsx)(t.h2,{id:"call-stack",children:"Call Stack"}),"\n",(0,n.jsx)(t.p,{children:"The Call Stack is a stack data structure that keeps track of function calls. It operates on a Last In, First Out (LIFO) principle. When a function is called, it is added to the top of the stack, and when it finishes executing, it is removed from the stack."}),"\n",(0,n.jsx)(t.p,{children:"For example:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",children:'console.log("Print this");\n'})}),"\n",(0,n.jsxs)(t.p,{children:["Here, ",(0,n.jsx)(t.code,{children:"console.log"})," is pushed onto the Call Stack and executed immediately, then popped off the stack."]}),"\n",(0,n.jsx)(t.h2,{id:"web-apis",children:"Web APIs"}),"\n",(0,n.jsxs)(t.p,{children:["Certain functions, such as ",(0,n.jsx)(t.code,{children:"setTimeout"}),", ",(0,n.jsx)(t.code,{children:"setInterval"}),", and DOM event handlers, are provided by the browser and not directly managed by JavaScript's Call Stack. These are known as Web APIs."]}),"\n",(0,n.jsx)(t.p,{children:"When an asynchronous operation (e.g., a setTimeout function) is executed, it is handed off to the Web API, which handles the operation and places the callback function in the Message Queue once the operation is complete."}),"\n",(0,n.jsx)(t.h2,{id:"message-queue",children:"Message Queue"}),"\n",(0,n.jsxs)(t.p,{children:["The Message Queue (or Task Queue) is a queue data structure that follows the First In, First Out (FIFO) principle. It holds callbacks for asynchronous operations like ",(0,n.jsx)(t.code,{children:"setTimeout"})," or user-driven events that are ready to be executed once the Call Stack is empty."]}),"\n",(0,n.jsx)(t.h2,{id:"event-loop",children:"Event Loop"}),"\n",(0,n.jsx)(t.p,{children:"The Event Loop is a mechanism that continuously monitors the Call Stack and Message Queue. Its primary role is to ensure that asynchronous code is executed at the appropriate time."}),"\n",(0,n.jsx)(t.h3,{id:"the-process-works-as-follows",children:"The process works as follows:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"The Event Loop checks if the Call Stack is empty."}),"\n",(0,n.jsx)(t.li,{children:"If the Call Stack is empty and there are tasks in the Message Queue, the Event Loop dequeues the oldest task from the Message Queue and pushes it onto the Call Stack for execution."}),"\n",(0,n.jsx)(t.li,{children:"This allows JavaScript to handle asynchronous operations while still executing code in a single thread."}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"microtask-queue",children:"Microtask Queue"}),"\n",(0,n.jsxs)(t.p,{children:["In addition to the Message Queue, there is also the Microtask Queue. This queue is specifically used for operations like ",(0,n.jsx)(t.code,{children:"Promises"})," and ",(0,n.jsx)(t.code,{children:"MutationObserver"}),"."]}),"\n",(0,n.jsx)(t.p,{children:"The Microtask Queue has higher priority over the Message Queue."}),"\n",(0,n.jsx)(t.p,{children:"When the Call Stack is empty, the Event Loop first processes all tasks in the Microtask Queue before moving on to the Message Queue."}),"\n",(0,n.jsx)(t.p,{children:"For example:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",children:"setTimeout(() => console.log('Timeout'), 0);\r\nPromise.resolve().then(() => console.log('Promise'));\n"})}),"\n",(0,n.jsx)(t.p,{children:"Here, the Promise callback will be executed before the setTimeout callback, even though the setTimeout has a delay of 0 milliseconds."}),"\n",(0,n.jsx)(t.h2,{id:"summary",children:"Summary"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"JavaScript's Event Loop allows it to handle asynchronous operations effectively within its single-threaded environment."}),"\n",(0,n.jsx)(t.li,{children:"The Call Stack executes synchronous code, while the Event Loop manages the execution of asynchronous code from the Message Queue and Microtask Queue."}),"\n",(0,n.jsx)(t.li,{children:"Thus ensuring a smooth and responsive experience in JavaScript applications."}),"\n"]}),"\n",(0,n.jsxs)(t.h2,{id:"passing-delay-of-0-milliseconds-to-settimeout-will-make-it-synchronous",children:["Passing Delay of ",(0,n.jsx)(t.code,{children:"0"})," milliseconds to ",(0,n.jsx)(t.code,{children:"setTimeout"})," will make it synchronous?"]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:"In JavaScript, if you pass a delay of 0 milliseconds to the setTimeout function, will the callback function execute immediately after the current line of code, effectively making it synchronous?"})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",children:"console.log(1);\r\nconsole.log(2);\r\nsetTimeout(() => console.log(3), 0);\r\nconsole.log(4);\r\nconsole.log(5);\r\nconsole.log(6);\n"})}),"\n",(0,n.jsxs)(t.p,{children:["In above code, it may appear that all the lines of code are executed synchronous because the ",(0,n.jsx)(t.code,{children:"setTimeout"})," has ",(0,n.jsx)(t.code,{children:"0"})," milliseconds as delay.\r\nHowever, that is not the case. The ",(0,n.jsx)(t.code,{children:"setTimeout"}),' is sent to the Web API, which in turn enqueues the callback to the Message Queue.\r\nIrrepective of the delay time in setTimout, unless the Call Stack is empty, the Event Loop will not put the item from Message queue to the Call stack. So "how much ever time it requires" for call stack to empty, Event Loop will continously check Call Stack before the task is dequeued from the Message queue and pushed to the Call Stack.']}),"\n",(0,n.jsxs)(t.p,{children:["Because of above, the delay of ",(0,n.jsx)(t.code,{children:"0"})," milliseconds does not mean that the ",(0,n.jsx)(t.code,{children:"setTimeout"})," function will behave like synchronous code."]}),"\n",(0,n.jsx)(t.p,{children:"So the above code will execute as follows"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",children:"1\r\n2\r\n4\r\n5\r\n6\r\n3\n"})})]})}function d(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},8453:(e,t,s)=>{s.d(t,{R:()=>a,x:()=>l});var n=s(6540);const o={},i=n.createContext(o);function a(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);